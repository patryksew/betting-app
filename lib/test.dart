// ignore_for_file: avoid_print

import 'dart:convert';

import 'package:fuksiarz/models/event.dart';
import 'package:http/http.dart' as http;

Future<void> fetchEvents() async {
  final response = await http.get(Uri.parse(
      'https://fuksiarz.pl/rest/market/events/multi/8499040,8564755,8564863,8659947,8682327,8682336,8684968,8685360,8685426,8686929,8687853,8693510,8705255,8705759,8714872,8715603,8718078,8720654,8727152,8729335,8729558,8729611,8733105,8733164,8745609,8747321,8747898,8747930,8748533,8748534,8748708,8748743,8749614,8750426,8750937,8751178,8751756,8751757,8754366,8755746,8755760,8755828,8755834,8755853,8756735,8757784,8758623,8758624,8759037,8759445,8759499,8759639,8759667,8760102,8760187,8760640,8760825,8761797,8762058,8762618,8763819,8764817,8764827,8765119,8765190,8765591,8765595,8765619,8765643,8765712,8765744,8766412,8766899,8767002,8768127,8768133,8768875,8768878,8769496,8772309,8773603,8774985,8774989,8775672,8775782,8776481,8777198,8777621,8777941,8781235,8781400,8781434,8781443,8781611,8781987,8782758,8783317,8783439,8784604,8785568,8785589,8786004,8786008,8786143,8786224,8786463,8786603,8787202,8787203,8787227,8787400,8787460,8788187,8788395,8788857,8788858,8788867,8788885,8789236,8789363,8789740,8789920,8791546,8792959,8794065,8794160,8796052,8796538,8796588,8796767,8797028,8797119,8797546,8797547,8797549,8797563,8797655,8797737,8797747,8797748,8798174,8798380,8798485,8798527,8799049,8799671,8799672,8799890,8800477,8801153,8801184,8801439,8801505,8801515,8801649,8801751,8802238,8802259,8802269,8802400,8802412,8802670,8802671,8802893,8803067,8803097,8803536,8803814,8803830,8804260,8804430,8804583,8804907,8804909,8804913,8804924,8804935,8804939,8805586,8805791,8805845,8805882,8805912,8805966,8806338,8806373,8806534,8806538,8806542,8806612,8806975,8807143,8807144,8807259,8807324,8807615,8807822,8807823,8807921,8807941,8807953,8807972,8807975,8808069,8808072,8808075,8808443,8808548,8808580,8808739,8808983,8809287,8809835,8809875,8809902,8809912,8810001,8810003,8810069,8810108,8810863,8810865,8810912,8810974,8811008,8811849,8812049,8812058,8812081'));
  final body = json.decode(response.body);
  final data = body['data'] as List;

  final event = Event.fromJson(data[0]);

  print(event.eventStart);
  print(event.gamesCount);
  print(event.id);
  print(event.outcomesOdds);
  print(event.participants);

  // for (var event in data) {
  //   if (event['eventGames'].length > 1) {
  //     print('Found bigger!');
  //     print(event['eventId']);
  //   }
  // }

  // print('koniec');
}
